/**
 * plugin.js
 *
 * Author:Raoh
 * Date:2013-06-20
 */

tinymce.PluginManager.add('exit', function(editor) {
	function save() {
		if (typeof editor.getParam("exit_onsavecallback")==="function") {
			editor.execCallback('exit_onsavecallback', editor);
		}
	}

	function exit() {
	    if (typeof editor.getParam("exit_onbeforeexit") === "function") {
	        editor.execCallback('exit_onbeforeexit', editor);
		}
	}

	editor.addCommand('mceSave', save);
	editor.addCommand('mceExit', exit);

	editor.addButton('save', {
		text: 'Save',
		cmd: 'mceSave',
	});

	editor.addButton('exit', {
		text: 'Exit',
		icon: false,
		cmd: 'mceExit'
	});

});
